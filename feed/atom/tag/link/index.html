<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"
xmlns:thr="http://purl.org/syndication/thread/1.0"
xml:lang="zh-CN"
xml:base="https://blog.niekun.net/tag/link/"
>
<title type="text">Marco Nie - link</title>
<subtitle type="text"></subtitle>
<updated>2020-02-26T09:18:00+08:00</updated>
<generator uri="http://typecho.org/" version="1.2.0">Typecho</generator>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/tag/link/" />
<id>https://blog.niekun.net/feed/atom/tag/link/</id>
<link rel="self" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/tag/link/" />
<entry>
<title type="html"><![CDATA[Windows 10 上安装 Windows Subsystem for Linux (WSL)]]></title>
<link rel="alternate" type="text/html" href="https://blog.niekun.net/archives/1148.html" />
<id>https://blog.niekun.net/archives/1148.html</id>
<updated>2020-02-26T09:18:00+08:00</updated>
<published>2020-02-26T09:18:00+08:00</published>
<author>
    <name>admin</name>
    <uri>https://niekun.net</uri>
</author>
<content type="html" xml:base="https://blog.niekun.net/archives/1148.html" xml:lang="zh-CN"><![CDATA[
<div id="md_content_1" class="md_content" style="min-height: 50px;"><textarea id="append-test" style="display:none;">![2020-02-26T00:23:14.png][1]

Windows 10 上自带了完整的 Linux 子系统，对于 Windows 用户调试 Linux 有很大帮助，不需要安装虚拟机或双系统了。下面就介绍如何启用这一功能。

官方文档：https://docs.microsoft.com/en-us/windows/wsl/about

**wsl1 已经升级到了 wsl 2，安装教程**：https://blog.niekun.net/archives/1785.html

**有两个步骤：**
- 激活 Windows Subsystem for Linux 功能
- 选择安装 Linux 分发版

<!--more-->

#### 激活 Windows Subsystem for Linux

有两种方法激活，一种是进入**系统设置项**，一种是**命令行**。

**系统设置项激活：**

搜索进入控制面板 control panel：
![2020-02-26T00:30:25.png][2]

选择 programs：
![2020-02-26T00:30:52.png][3]

选择 turn Windows features on or off：
![2020-02-26T00:32:14.png][4]

找到 Windows Subsystem for Linux 打勾：
![2020-02-26T00:33:06.png][5]

根据提示重启系统。

**命令行激活：**

以管理员权限打开 power shell 执行以下命令：
    Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux

根据提示**重启系统**。

#### 安装 Linux 分发版

激活 WSL 后，就要安装需要的 Linux 版本了，需要在 Microsoft store 里安装，访问网址：https://aka.ms/wslstore
目前有以下分发版可供选择：
![2020-02-26T00:37:17.png][6]

我选择了 Ubuntu，安装完成后启动 Ubuntu，会打开终端进行系统安装，等待安装完成。

系统安装完成后，在终端会提示建立用户账户，输入用户名，我输入 marco：
![2020-02-26T00:54:42.png][7]

接下来提示输入用户密码，以及密码确认，完成后就可以进入 Linux 系统了：
![2020-02-26T00:57:11.png][8]

#### 系统管理

想要启动 WSL 可以打开 power shell 然后 输入 `ubuntu` 或 `wsl` 回车即可，或者在程序里找到 Ubuntu 点击启动。启动后会默认使用上面建立的用户登录。

想要以 **root** 用户权限执行命令，需要在命令前 加 `sudo`。

**用户密码修改：**

启动 WSL 后输入命令：
    passwd

![2020-02-26T01:06:26.png][9]
根据提示输入当前密码和新密码即可。

**忘记密码重置：**

如果忘记了账户密码，可以在 power shell 使用下面命令进入 root 账户：
    wsl -u root

进入后，使用 `passwd` 命令设置新密码：
![2020-02-26T01:12:21.png][10]

完成后输入命令 `exit` 退出 wsl 然后重新登录 ubuntu 即可。

#### 访问 Windows 系统文件

Windows 磁盘目录在：**/mnt** 下，如 C 盘路径： **/mnt/c**，系统用户目录：**/mnt/c/users/YOURNAME**

为方便 WSL 下访问 Windows 目录，可以创建软连接来作为快捷方式，如下将 Windows 用户目录链接到 WSL 用户目录：
    ln -s /mnt/c/users/YOURNAME ~/windows10

这样想要访问 Windows 用户目录只需要使用链接：`~/windows10` 即可。

  [1]: https://niekun.net/usr/uploads/2020/02/2265837787.png
  [2]: https://niekun.net/usr/uploads/2020/02/2202259820.png
  [3]: https://niekun.net/usr/uploads/2020/02/2230116818.png
  [4]: https://niekun.net/usr/uploads/2020/02/534752187.png
  [5]: https://niekun.net/usr/uploads/2020/02/320620903.png
  [6]: https://niekun.net/usr/uploads/2020/02/4036465504.png
  [7]: https://niekun.net/usr/uploads/2020/02/2001011353.png
  [8]: https://niekun.net/usr/uploads/2020/02/3360530650.png
  [9]: https://niekun.net/usr/uploads/2020/02/2548664985.png
  [10]: https://niekun.net/usr/uploads/2020/02/1955684943.png</textarea></div>
]]></content>
<link rel="replies" type="text/html" href="https://blog.niekun.net/archives/1148.html#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://blog.niekun.net/feed/atom/tag/link/" thr:count="0"/>
</entry>
</feed>