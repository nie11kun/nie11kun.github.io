<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
xmlns:content="http://purl.org/rss/1.0/modules/content/"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
xmlns:atom="http://www.w3.org/2005/Atom"
xmlns:wfw="http://wellformedweb.org/CommentAPI/">
<channel>
<title>Marco Nie - mp4</title>
<link>https://blog.niekun.net/tag/mp4/</link>
<atom:link href="https://blog.niekun.net/feed/tag/mp4/" rel="self" type="application/rss+xml" />
<language>zh-CN</language>
<description></description>
<lastBuildDate>Sun, 31 Mar 2019 19:14:00 +0800</lastBuildDate>
<pubDate>Sun, 31 Mar 2019 19:14:00 +0800</pubDate>
<item>
<title>nginx实现mp4流媒体播放</title>
<link>https://blog.niekun.net/archives/177.html</link>
<guid>https://blog.niekun.net/archives/177.html</guid>
<pubDate>Sun, 31 Mar 2019 19:14:00 +0800</pubDate>
<dc:creator>admin</dc:creator>
<content:encoded xml:lang="zh-CN"><![CDATA[
<div id="md_content_1" class="md_content" style="min-height: 50px;"><textarea id="append-test" style="display:none;">如果还没有安装nginx，参考教程：https://niekun.net/index.php/archives/30.html

**此功能使用的是 Nginx 的 ngx_http_mp4_module 模块。**

首先查看当前 nginx 是否已经安装了 ngx_http_mp4_module 模块：
    nginx -v

查看是否已经有了对应模块，一般使用 apt 安装的都集成了此模块。


<!--more-->

编辑你的 nginx 配置文件，加入下面的片段：
```
location /video {
    mp4;
    mp4_buffer_size       1m;
    mp4_max_buffer_size   10m;
}
```

测试是否配置正确：
    service nginx configtest

重新加载配置文件：
    service nginx reload

现在你就可以在对应目录下放置一个mp4文件，访问看是否能够正常播放。

如果访问网页出现 500 错误，或者 nginx log 里提示mp4 moov atom is too large，则可能需要将 mp4_max_buffer_size 设置大一些。

支持的格式：.mp4, .m4v, .m4a

可以从任意时间开始播放，如：http://example.com/elephants_dream.mp4?start=238.88
start 后的数字为秒

也可以设置结束时间点：http://example.com/elephants_dream.mp4?start=238.88&end=555.55</textarea></div>
]]></content:encoded>
<slash:comments>0</slash:comments>
<comments>https://blog.niekun.net/archives/177.html#comments</comments>
<wfw:commentRss>https://blog.niekun.net/feed/tag/mp4/</wfw:commentRss>
</item>
</channel>
</rss>