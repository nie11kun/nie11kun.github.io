<?xml version="1.0" encoding="UTF-8"?>
<rdf:RDF
xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns="http://purl.org/rss/1.0/"
xmlns:dc="http://purl.org/dc/elements/1.1/">
<channel rdf:about="https://blog.niekun.net/feed/rss/">
<title>Marco Nie</title>
<link>https://blog.niekun.net/</link>
<description>you are the company you keep...</description>
<items>
<rdf:Seq>
<rdf:li resource="https://blog.niekun.net/archives/2522.html"/>
<rdf:li resource="https://blog.niekun.net/archives/2502.html"/>
<rdf:li resource="https://blog.niekun.net/archives/2480.html"/>
<rdf:li resource="https://blog.niekun.net/archives/2472.html"/>
<rdf:li resource="https://blog.niekun.net/archives/2457.html"/>
<rdf:li resource="https://blog.niekun.net/archives/2454.html"/>
<rdf:li resource="https://blog.niekun.net/archives/2451.html"/>
<rdf:li resource="https://blog.niekun.net/archives/2448.html"/>
<rdf:li resource="https://blog.niekun.net/archives/2403.html"/>
<rdf:li resource="https://blog.niekun.net/archives/2388.html"/>
</rdf:Seq>
</items>
</channel>
<item rdf:about="https://blog.niekun.net/archives/2522.html">
<title>给T恤添加图案 in Photoshop</title>
<link>https://blog.niekun.net/archives/2522.html</link>
<dc:date>2022-04-01T15:56:00+08:00</dc:date>
<description>图像中的衣服是一个立体空间，如果想要将一个二维图像添加到衣服表面需要进行一些处理。下面就介绍简单的过程。之前介绍过如果给一面旗帜添加文字信息可以参考：https://blog.niekun.net/archives/261.html用到的主要技术：扭曲工具、通道选区、multiply 混合、screen 混合、curve 曲线、quick selection tool原图如下：首先导入需要添加的图案：将图案转换为 smart object，首先使用扭曲工具调整图案的立体感，需要根据衣服褶皱的变化去调整图案的不同区域，可以设置将背景显示出来方便观察调整：调整后如下：如果图案清晰度过高，和背景相比差异太大，可以使用高斯模糊适当降低图案清晰度。按 ctrl 点击图层选取图案部分选取，然后在图案下面新建 hue saturation 图层将图案背后的衣服部分饱和度降低，避免以后影响图案部分颜色效果：复制 dragon 图层，然后屏蔽原始 dragon 图层作为备份，将复制的图层重命名为 multiply，混合模式改为 multiply：这个图层是用来处理暗部区域，由于我们只想衣服的暗部区域加载这个暗部图案，所以我们需要分离衣服暗部和亮部区域。之前的教程中，介绍了使用 sytle 中的 blend if 来过滤暗部亮部，达到预期效果：但是这个方法也有缺陷，第二个调整栏会将当前图层下面的所有图层作为整体对待，而不能单独选取某一个图层进行混合，如果我们需要连续建立了多个进行 blend if 混合的图形对最下面的某个图片进行混合，那么这些混合图层之间互相也会影响。下面介绍如果通过选区来独立处理暗部亮部区域。先将除背景图层外的所有图层屏蔽，然后选中背景图层，注意一定要先关闭其他图层不然下面的选区会受到影响：进入通道菜单栏，选择一个对比大的通道，按住 ctrl 点击通道获取选区，这里选择 red 通道，注意这里看到的通道不能包含除背景图层外的其他图层，否则选区会不准确：这里的选区选区的就是图像的亮部区域。回到图层，选择 multiply 图层添加蒙版：由于选取部分是亮部区域，但是我们的 multiply 处理的是暗部区域，所以选中图层蒙版点击 ctrl I 反转蒙版即可：这样蒙版白色区域就表示暗部区域。观察蒙版，整体是灰色的，这样暗部亮部分离就不是很明显，为了获得选区更大的对比度，可以对蒙版进行曲线操作，选中蒙版点击 image - adjustment - curve：此时，我们期望将亮部区域排除，也就是蒙版的暗部区域让他更暗，我们对比图片调整曲线：曲线中将左侧向右调整蒙版的黑色区域增加，这样图像亮部就过滤掉了，同时我们将右侧曲线也向右调整是为了更加提高对比。然后复制 multiply 图层，重命名为 screen，同时将混合模式改为 screen：screen图层用来处理图章的亮部区域，但是这里的蒙版白色区域还是表示暗部区域，所以点击 ctrl I 反转图层蒙版，这样图层就只对作用于亮部区域：根据实际情况，可以对 screen 图层蒙版调整曲线，使其之影响亮部区域：这样基本框架就完成了，下面增加更多的对比使整体更加有立体感。复制 multiply 图层，使暗部更暗，调整蒙版曲线使图层只作用于最暗的地方，根据情况调整不透明度：同样的复制 screen 图层，使亮部更量，调整蒙版曲线使图层只作用域最量的地方：这样图案立体感就更突出了一些，可以根据实际情况复制更多的 multiply 和 screen 图层进行调整。然后根据实际情况我们调整图案的色相饱和度，按住 ctrl 点击图案图层获取选区，在最上边新建 hue saturation 图层，这样调整饱和度只影响图案部分：最后我们处理图案多余部分，将图案调整图层都放在一个 group中：选中背景图层，使用 quick selection tool 快速选区工具或者其他你熟悉的工具，将手臂部分选出来：选中 dragon group 添加蒙版，然后 ctrl I 反转蒙版，如果还有哪里有多余部分，使用画笔工具涂抹蒙版调整即可：最终效果如下：</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/2502.html">
<title>PHP频率分离处理皮肤 in Photoshop</title>
<link>https://blog.niekun.net/archives/2502.html</link>
<dc:date>2022-03-31T14:23:00+08:00</dc:date>
<description>频率分离在处理人像或需要平滑表面的地方非常有效，在之前的教程中介绍过频率分离的方法，下面介绍在实际应用中，在频率分离后如何进行下一步处理。Photoshop 皮肤处理进阶通过频率分离修复褶皱衣服 in Photoshop频率分离 action：PiX - Frequency Separation.atnPHP 表示：patching修补，healing修复，polishing抛光关于频率分离的原理和过程请参考上面的链接，下面直接使用 action 快速完成。原图如下：在分离图像前，我们首先简单处理皮肤明显的痘痕等瑕疵部分，使用污点修复工具即可，新建一个图层，选择 healing brush tool：alt 选取痘痘周边皮肤，点击修复所有的痘痘，注意 sample 选择 current and below：我们通过 action 快速分离图像，我们图像是 8 bit 模式的所以使用 FS 8bit动作(image - mode 可以查看当前图片模式)：执行 action 过程中弹出手动设置高斯模糊值，先拉到最小，然后一点点调大直到皮肤细节消失：action 会自动创建好分离图像图层：下面进行 PHP 第一步 patching，将皮肤上大块的色差区域修复，使用了 patch tool。首先关闭上面的 texture 图层，然后复制 color 图层命名为 patching：使用 patch tool 将皮肤上有明显下次和色差的部分修复：处理完成后打开 texture 图层查看效果：然后第二部 healing，也就是通过 heal tool 修复一些小瑕疵部分，复制 patching 图层，使用 heal tool 进行下一步修复，同样的需要临时关闭 texture 图层。例如我们通过 heal tool 修复额头多余的头发和面部细微部分的色差区域：处理完成后打开 texture 图层查看效果：第三步 polishing，也就是对皮肤高光阴影的平滑处理，让整体光线过渡更加均匀，复制 healing 图层重命名为 polishing，同样的暂时关闭 texture 图层。这里使用笔刷工具，流量调到 2 左右即可：我们先处理嘴唇的阴影部分，按住 alt 点击阴影部分选取颜色，然后在需要过渡的地方进行涂抹：然后鼻子上的亮度分布我们使用同样的方法进行调整，让光线更加平顺：根据情况调整其他地方的光线，完成后打开 texture 图层查看效果：最终效果对比如下：</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/2480.html">
<title>通过频率分离修复褶皱衣服 in Photoshop</title>
<link>https://blog.niekun.net/archives/2480.html</link>
<dc:date>2022-03-29T17:07:00+08:00</dc:date>
<description>之前介绍过通过高低频率分离可以处理皮肤柔化，它可以方便的单独处理颜色和反差部分。下面介绍通过高低频分离将褶皱的衣服平顺化，同时保持其原有的真实过渡部分。用到的技术主要有：高斯模糊、apply image、linear light、mixer brush tool、patch tool原图如下，可以看到衣服褶皱很明显：首先复制两个图层，分别命名为 color 和 texture：先临时关闭 texture 图层，将 color 图层执行高斯模糊：根据实际情况，调节滑块将主体的布料细节等杂乱色彩柔化，最终基本看不出明显细节：然后打开 texture 图层，执行 image - apply image。layer 选择 下方的 color 图层，混合模式选择 subtract，scale 选择 2，offset 设置为 128，上面设置的意思就是将 texture 图层每个像素都减去下方的 color 图层，将结果减为 0 的部分填充为 50度灰色，scale 影响轮廓范围：然后将 texture 混合模式改为 linear light，我们会发现现在显示的图像和原图是一样的：以上我们就将原图拆解为 color 和 texture 两部分，可以对其进行分别调整。下面我们开始处理褶皱问题，关闭 texture 图层，然后使用 mixer brush tool 将 color 图层颜色分布均匀化处理，这个笔刷可以选取周围图片某个地方的像素，然后在其他地方可以涂抹出相似的颜色。由于需要使用色彩选取功能，首先我们确保选取颜色的时候是 33 或 55 范围而不是单个像素。点击色彩选取工具，将上面的设置为合适数据：然后点击 mixer brush tool，在上面的默认数据基础上将流量调到30左右，将平滑处理降到0：然后使用柔边笔刷，选择一个有褶皱的区域，点击 alt 选取周边一个颜色，开始涂抹需要处理的区域，处理过程中注意不同区域需要尽量选取其周边颜色进行涂抹，这样过度更加自然。涂抹过程中可以打开背景图层观察效果：涂抹完成后打开 texture 查看效果：可以看到很明显的效果，大部分的褶皱都没有了，但是还是可以看到一些线条：但是在 color 图层却不明显，这些线条就是存在于 texture 图层的高频部分，需要在 texture 图层处理它们。使用的方法就是通过污点修复工具将这些线条去掉，选中 texture 图层，这里我使用 patch tool：选取一个需要去除的线条，拖拽到其他完好区域，查看效果：同样的步骤处理其他所有区域，最终效果如下：以上就完成了折痕的处理。</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/2472.html">
<title>彩图转黑白 in Photoshop</title>
<link>https://blog.niekun.net/archives/2472.html</link>
<dc:date>2022-03-28T14:04:00+08:00</dc:date>
<description>黑白图片在某些场景下有其独特的风格，在人像摄影中可以体现出一种另类的雕塑感，下面通过实例介绍如何从一个彩色图片处理为一张黑白效果。使用的工具主要是 gradient map 和 camera raw。下面是原始图片：首先在原图上方建立 gradient map 图层，gradient map 的作用是根据图像的亮度分布进行颜色替换：首先将下方的 method 改为 classic，这样过渡效果更加平顺一些：默认是一个反色效果渐变，点击渐变条，修改其属性为左边黑色右边白色：下面我们增加黑白色差效果，调节左侧下方滑块可以使得黑色区域更黑，调节右侧下方滑块可以使得白色区域更白，调节中间滑块可以调节黑白区域范围：调节到合适效果后确认即可，这样我们初步就有了一个效果。下面为了让背景更加黑，我们通过选取提取出背景，创建一个纯黑背景。选中图像图层，选区工具下选中 select and mask：点击 select subject 可以自动选中主体：点击 color aware 和 shift edge 调节选区边沿：确认后可以获取到主体的选取，创建一个 solid color 黑色图层，选中蒙版，ctrl I 反转选区即可：放大我们可以发现主体边沿和背景没有完美的融合，这时可以通过复制刚才的 gradient map 图层强化黑白效果，然后通过笔刷工具将复制的图层只保留主体边沿部分，注意使用笔刷的时候不透明度调节稍微低一些：基本效果已经可以了，下面调节细节部分，首先眼睛需要提亮，新建 curves 图层，提亮曲线后反转蒙版，使用笔刷工具涂抹出眼睛的亮度：黑白图片效果一般在提高锐度的时候会更加具有特点，下面我们通过 camera raw 来做调整。首先快捷键 ctrl shift alt E 盖印图层，然后转换为 smart object 方便后期返回来调整参数：然后点击 filter - camera raw filter 进入编辑模式。为了更加强烈的反差，我首先调节了亮度参数：然后就是锐化的重点 - 提高 clarity 清晰度参数，注意不要调的过高而失真：完成后保存返回 Photoshop，适当调节不透明度使图片更加自然：最终效果如下：</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/2457.html">
<title>安装 phpMyAdmin 管理 MySQL</title>
<link>https://blog.niekun.net/archives/2457.html</link>
<dc:date>2022-03-28T09:31:00+08:00</dc:date>
<description>phpMyAdmin 是一个 php 的免费工具，用来在 web 端管理 MySQL 数据库。它支持大部分的 MySQL 功能，比如：创建数据库，修改数据，管理用户权限，导入导出数据等。官方网站：https://www.phpmyadmin.net/GitHub 主页：https://github.com/phpmyadmin/phpmyadmin下面介绍在 Ubuntu 20.04 的安装及使用过程。安装首先确保已经安装好了 MySQL 和 php：apt install mysql-server php php-fpm php-mysql
然后安装 phpMyAdmin：apt install phpmyadmin
安装过程中会提示创建一个 mysql 管理账户 phpmyadmin，一般直接确认即可，然后设置账户密码。如果这一步跳过了创建账户，后期需要手动修改配置文件或手动创建一个 phpmyadmin 管理账户，否则登录可能会报错。配置 nginx安装完成后需要配置代理服务器，我使用的是 nginx，下面是 nginx 的配置文件部分：    location /phpmyadmin {
        root /usr/share/;
        index index.php index.html index.htm;
        location ~ ^/phpmyadmin/(.+\.php)$ {
            fastcgi_pass unix:/run/php/php7.4-fpm.sock;
            include fastcgi-php.conf;
        }
    }使用配置完成后就可以登陆 phpmyadmin 页面了，登录对应的 mysql 管理账户，可以是安装 phpmyadmin 时创建的账户也可以是我们之前使用 mysql 自己的账户：如果登录后发现下面有报错信息：Access denied for user 'phpmyadmin'@'localhost' (using password: NO)
可能就是安装的时候跳过了创建 phpmyadmin MySQL 账户的步骤，这里我们可以在终端手动创建报错信息中提示的用户名或者直接修改配置文件中定义的 phpmyadmin 管理账户。修改 /etc/phpmyadmin/config.inc.php，找到如下字段：$cfg['Servers'][$i]['controluser'] = 'user';
$cfg['Servers'][$i]['controlpass'] = 'password';将上面的用户名密码修改为 MySQL 中存在的账户即可。刷新页面之后应该就没有报错了。手动创建 MySQL 用户可以参考教程：https://blog.niekun.net/archives/23.html#title-3然后我们就可以正常使用 phpmyadmin 管理页面了，这里可以查看 database，导入导出数据等。参考链接phpMyAdmin ERROR: mysqli_real_connect(): (HY000/1045): Access denied for user 'pma'@'localhost' (using password: NO)</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/2454.html">
<title>使用 rclone 管理网盘文件</title>
<link>https://blog.niekun.net/archives/2454.html</link>
<dc:date>2022-03-14T11:35:31+08:00</dc:date>
<description>之前介绍了通过 gdrive 在服务器上管理 Google drive 文件，实现服务器数据备份自动上传功能。最近发现有一个新的开源项目 rclone 支持更多的网盘，同时更新迭代速度也更快。GitHub 主页：https://github.com/rclone/rclone他支持的网盘列表：https://rclone.org/overview/下面介绍它的安装使用方法。安装Linux 下一键安装命令：curl https://rclone.org/install.sh | sudo bash
macos 通过 brew 安装：brew install rclone
配置首次运行执行初始化配置：rclone config
根据提示创建新 remote：No remotes found - make a new one
n) New remote
r) Rename remote
c) Copy remote
s) Set configuration password
q) Quit config
n/r/c/s/q&gt; n然后设置此连接名称，后续就是通过这个名称来操作不同的网盘的：name&gt; remote
下一步选择网盘类型，如果是 Google drive 选择 16：Type of storage to configure.
Choose a number from below, or type in your own value
[snip]
16 / Google Drive
   \ &quot;drive&quot;
[snip]
Storage&gt; 16下面的 id 和 secret 都默认回车即可：Google Application Client Id - leave blank normally.
client_id&gt;
Google Application Client Secret - leave blank normally.
client_secret&gt;下面设置可访问全部网盘文件，选择 1：Scope that rclone should use when requesting access from drive.
Choose a number from below, or type in your own value
 1 / Full access all files, excluding Application Data Folder.
   \ &quot;drive&quot;
 2 / Read-only access to file metadata and file contents.
   \ &quot;drive.readonly&quot;
   / Access to files created by rclone only.
 3 | These are visible in the drive website.
   | File authorization is revoked when the user deauthorizes the app.
   \ &quot;drive.file&quot;
   / Allows read and write access to the Application Data folder.
 4 | This is not visible in the drive website.
   \ &quot;drive.appfolder&quot;
   / Allows read-only access to file metadata but
 5 | does not allow any access to read or download file content.
   \ &quot;drive.metadata.readonly&quot;
scope&gt; 1下面几步都默认回车即可。注意到了 use auto config 的时候要选择 No，因为我们是远程 ssh 访问的服务器：Use auto config?
 * Say Y if not sure
 * Say N if you are working on a remote or headless machine or Y didn't work
y) Yes
n) No
y/n&gt; n下面会返回一个链接，复制链接到浏览器后，登录 google 账户给 rclone 授权。授权完成后会返回一个字符串码，粘贴回终端。后续几步默认回车即可，最后输入 q 退出 config。使用配置完成后我们就可以使用了，下面介绍一些基本语法。下面示例中网盘配置名称为 remote。列出网盘的所有文件：rclone ls remote:
列出一个文件夹内的所有文件：rclone ls remote:abc
创建一个文件夹：rclone mkdir remote:abc
rclone mkdir remote:abc/def
删除网盘内一个文件：rclone delete remote:abc/123.txt
删除一个文件夹：rclone rmdir remote:abc
复制本地一个文件到网盘：rclone copy 123.txt remote:abc
更多可用命令可以参考官方文档：https://rclone.org/docs/#subcommands</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/2451.html">
<title>Ubuntu 18.04 升级 Ubuntu 20.04 记录</title>
<link>https://blog.niekun.net/archives/2451.html</link>
<dc:date>2022-03-12T15:32:00+08:00</dc:date>
<description>昨天决定把服务器的系统从 Ubuntu 18.04 升级到 Ubuntu 20.04，其中经历了不少问题点，下面记录下处理过程。首先就是升级当前系统所有包到最新：apt update &amp;&amp; apt upgrade -y
apt autoremove &amp;&amp; apt purge
然后安装升级需要的管理包，不过一般系统都是自带的：apt install update-manager-core
然后就可以更新系统了：do-release-upgrade
标准流程就是以上几步，但是在最后一步的时候问题就开始出现了。在执行升级命令后出现报警：Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings
在查询一些资料后，原来是 ssl certificates 验证问题，系统无法鉴定上面的 https 链接证书是否有效就返回错误了。这个问题也是我这个系统的一个遗留问题，每次执行 wget 或 curl 下载东西的时候就会提示证书报错，需要通过附加指令跳过证书验证，但这就会存在安全问题了。解决方法就是更新本地证书库后添加 SSL_CERT_DIR 环境变量指向系统证书目录：update-ca-certificates --verbose --fresh
export SSL_CERT_DIR=/etc/ssl/certs
为了方便以后使用，将环境变量添加到 ~/.bashrc 文件中。这样就解决了 https 链接证书验证问题。然后先删除之前执行升级命令后错误内容：rm /var/lib/ubuntu-release-upgrader/release-upgrade-available
/usr/lib/ubuntu-release-upgrader/release-upgrade-motd
之后再次执行升级命令 do-release-upgrade。这时候报错信息变化了，这时候提示的是 python3 有问题，原因是我当前系统使用的是自己编译的 python 3.8，路径在 /opt 目录下。当时将系统软链接 /usr/bin/python 和 /usr/bin/python3 都指向了自己安装的 python，需要将他们恢复到指向系统内置的 python 程序。下面需要介绍下系统内 python 主程序和软链接的分布：python2 主应用程序为 /usr/bin/python2.7
python3 主应用程序为 /usr/bin/python3.6
pip 主程序为 /usr/bin/pip
pip3 主程序为 /usr/bin/pip3下面是默认的软链接及指向的应用程序：/usr/bin/python  -&gt;  /usr/bin/python2.7
/usr/bin/python2  -&gt;  /usr/bin/python2.7
/usr/bin/python3  -&gt;  /usr/bin/python3.6
/usr/local/bin/pip  -&gt;  /usr/bin/pip
/usr/local/bin/pip3  -&gt;  /usr/bin/pip3如果你修改过这些软链接到自己的 python 版本，就需要修改回来：ln -sf /usr/bin/python2.7 /usr/bin/python
ln -sf /usr/bin/python2.7 /usr/bin/python2
ln -sf /usr/bin/python3.6 /usr/bin/python3
ln -sf /usr/bin/pip /usr/local/bin/pip
ln -sf /usr/bin/pip3 /usr/local/bin/pip3
ldconfig以上问题都处理完后，再次执行升级命令，一切都正常了。</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/2448.html">
<title>解决 wget 下载时 certificates 证书报错问题</title>
<link>https://blog.niekun.net/archives/2448.html</link>
<dc:date>2022-03-11T16:48:00+08:00</dc:date>
<description>我的服务器上在使用 wget 或者 curl 等网络工具时，每次都提示类似下面的报错：ERROR: cannot verify github.com's certificate, issued by ‘CN=DigiCert High Assurance TLS Hybrid ECC SHA256 2020 CA1,O=DigiCert\\, Inc.,C=US’:
  Unable to locally verify the issuer's authority.
To connect to github.com insecurely, use `--no-check-certificate'.需要通过参数跳过证书检查，但是这样又有了安全风险。首先尝试更新本地证书文件：update-ca-certificates --verbose --fresh发现问题没有解决，原来是系统缺少了一个指向证书路径 /etc/ssl/certs 的环境变量，尝试添加：export SSL_CERT_DIR=/etc/ssl/certs再次测试 wget 命令，发现问题的确没有了。可以将上面的环境变量添加到系统 shell 配置文件中，我这里是 ~/.bashrc，添加后刷新一下即可：source ~/.bashrc在更新 Ubuntu18.04 到 20.04 时，也是这个问题导致的报错。</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/2403.html">
<title>macOS 中给 finder 添加右键打开 vs code 选项</title>
<link>https://blog.niekun.net/archives/2403.html</link>
<dc:date>2022-01-27T22:00:00+08:00</dc:date>
<description>macOS 中的右键菜单没有像 windows 那样多样的选项，我最常用的是：用 vs code 打开文件夹，新建文本文件等。目前有第三方的软件可以添加这些功能，比如 irightmouse，但基本都是收费软件，下面介绍如何通过系统自带的 automator 来添加我们需要的功能。vs code 菜单首先我们创建一个 Open in Visual Studio Code 的 action。打开 Automator，点击 file - new 创建一个 quick action：首先修改右边的参数，workflow receives current files or folders in finder，下面的 image 根据个人喜好修改：然后左侧搜索 run shell script 双击添加到右侧，修改 pass input：as arguments，然后脚本内容如下：for f in &quot;$@&quot;
do
    open -a 'Visual Studio Code' &quot;$f&quot;
done保存脚本即可，命名为 Open in Visual Studio Code，需要保存到当前用户目录下的 library/services 目录下(默认就会保存到这个目录)：然后在 finder 中测试，选中一个文件夹查看右键菜单，在 quick action 中会出现 Open in Visual Studio Code：点击后即可在 vs code 中打开文件或文件夹。copy path 菜单下面我们用同样的方法做一个复制文件或文件夹路径的 action。新建一个 quick action，修改右边的参数，workflow receives current files or folders in finder。然后添加一个 copy to clipboard 的 variable 即可：命名为 Copy Path 并保存即可。此时 finder 中 quick action 菜单中就会有了对应的选项：create new txt file 菜单macOS 中没有右键创建新文件的选项，想要在当前目录中创建一个新文件挺麻烦的，下面我们通过类似的方法来创建一个快捷选项。新建一个 quick action，这里 receives 选择 no input：然后搜索并添加一个 Run AppleScript 变量，修改脚本内容如下：set file_name to &quot;untitled&quot;
set file_ext to &quot;.txt&quot;
set is_desktop to false

-- get folder path and if we are in desktop (no folder opened)
try
    tell application &quot;Finder&quot;
        set this_folder to (folder of the front Finder window) as alias
    end tell
on error
    -- no open folder windows
    set this_folder to path to desktop folder as alias
    set is_desktop to true
end try

-- get the new file name (do not override an already existing file)
tell application &quot;System Events&quot;
    set file_list to get the name of every disk item of this_folder
end tell
set new_file to file_name &amp; file_ext
set x to 1
repeat
    if new_file is in file_list then
        set new_file to file_name &amp; &quot; &quot; &amp; x &amp; file_ext
        set x to x + 1
    else
        exit repeat
    end if
end repeat

-- create and select the new file
tell application &quot;Finder&quot;

    activate
    set the_file to make new file at folder this_folder with properties {name:new_file}
    if is_desktop is false then
        reveal the_file
    else
        select window of desktop
        set selection to the_file
        delay 0.1
    end if
end tell

-- press enter (rename)
tell application &quot;System Events&quot;
    tell process &quot;Finder&quot;
        keystroke return
    end tell
end tell脚本中，定义了新建文件的文件名和扩展名，如果修改其他名称可以自行修改。完成后保存即可，名称为 Create New TXT File。保存后在 finder 中我们在任意位置右键会发现没有 quick action 选项，这是因为这个 action 定义中并没有选择输入源，因为新建文件和当前的文件并没有什么关系。此时需要通过左上角的 finder - services 找到我们刚创建的 action：也可以给这个 action 定义快捷键，在 keyboard - shrotcuts - services 中找到这个 action 在后边添加 shortcut 即可：注意第一次运行这个 action 会提示需要授权 finder 的几个权限，根据提示打开即可。参考链接Create a new (.txt) File in Finder - Keyboard ShortcutOSX: how to add a right click option to a folder which opens the folder with an app like VS Code?</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/2388.html">
<title>获取 JD cookie 方法</title>
<link>https://blog.niekun.net/archives/2388.html</link>
<dc:date>2022-01-09T18:53:00+08:00</dc:date>
<description>在运行自动化脚本的时候需要获取到对应网站的登录 cookie，这里介绍通过 chrome 浏览器获取到需要的信息。这里提供的方法仅供用于前端开发测试。首先登陆移动端网站：https://m.jd.com右键点击 inspect 进入开发者界面，然后点击网页右上角的登录键根据提示需要输入账户信息登录。登录成功后在开发栏切换到 network 选项，并且在 filter 中输入 log.gif 过滤出需要的信息：选中第一个 log 文件，点击 header 栏，在其中找到 cookie 项：复制其中的内容到剪贴板。找到开发页面下方的 console 栏，我们通过简单的 js 脚本提取出上面 cookie 的有效内容：var c = '这里粘贴复制好的 cookie';
var value = c.match(/pt_pin=.+?;/) + c.match(/pt_key=.+?;/);
copy(value);执行完成后此时我们的剪贴板里就已经复制好了 cookie 信息。手机端可以通过解包 app 来提取 cookie，具体可以参考我的 js 脚本：https://github.com/nie11kun/config-rules/blob/master/Shadowrocket/get_jdcookie.js</description>
</item>
</rdf:RDF>