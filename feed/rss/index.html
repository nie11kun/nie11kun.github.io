<?xml version="1.0" encoding="UTF-8"?>
<rdf:RDF
xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns="http://purl.org/rss/1.0/"
xmlns:dc="http://purl.org/dc/elements/1.1/">
<channel rdf:about="https://blog.niekun.net/feed/rss/">
<title>Marco Nie</title>
<link>https://blog.niekun.net/</link>
<description>you are the company you keep...</description>
<items>
<rdf:Seq>
<rdf:li resource="https://blog.niekun.net/archives/1720.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1718.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1690.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1688.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1685.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1684.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1680.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1677.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1666.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1653.html"/>
</rdf:Seq>
</items>
</channel>
<item rdf:about="https://blog.niekun.net/archives/1720.html">
<title>自由填充 Pattern in Photoshop</title>
<link>https://blog.niekun.net/archives/1720.html</link>
<dc:date>2020-08-18T00:09:00-04:00</dc:date>
<description>对于单个 pattern 模型，如果想要在 layer 内以随机的角度或大小填充来实现更加自然的效果可以使用 script 脚本方便的实现。我们从如何定一个 pattern 开始，下面是一张 1 美元图片：使用 object selection tool 快速将主体选出来：选区边沿如果有多余的或者缺失的部分，通过 按住 shift 和 alt 键来增加/减去选区：点击添加图层蒙版，边沿如果需要调整，可以使用画笔工具来进一步修整蒙版。如果蒙版边沿有锯齿，可以双击蒙版打开属性框，调整 smooth 和 contract 来优化蒙版：使用选区工具框出一个矩形框包含我们的主体：选择 edit - define pattern：定义一个名称，点击 ok：新建图层，快捷键 shift backspace/shift delete 调出填充框：content 选择 pattern：custom pattern 里选中我们刚才新建的模型：script 前打勾，然后右侧菜单里选择 random fill：点击 ok 后进入调整菜单，首先将 下面的 color randomness 设为 0 避免图形的染色改变，brightness randomness 设置为 0.02 左右使亮度轻微可以随机改变，形成层次感：将 density 设置为最大 10，将 minimum/maximum scale factor 设置为 1，这样 pattern 会以 1:1 比例显示：将 rotate pattern 打勾，这样模型会随机旋转：设置完成后点击 ok，可以看到效果：还可以做一些优化来使层叠效果更加真实，过程就是降低 density 和 scale，添加图层阴影效果。新建图层，使用上面的方法填充 pattern，在设置中将 density 设置为 9，scale 设置为 0.25：确认后可以看到效果，单个图形变小，填充密度变小：我们给图层添加阴影效果，双击图层打开 layer style，下方点击添加阴影：再次新建图层，使用上面图层的填充设置填充 pattern，可以将空缺的部分进一步补充完整：按住 alt 键拖拽刚才的阴影特效到新图层，可以快速复制效果：可以看到还是有空白的区域没有填充完整，继续重复上面的步骤，建立多个图层，直到完全充满整个区域为止，最终效果如下：以上就是使用 script 来实现 pattern 自由填充的过程。</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1718.html">
<title>argparse and struct in python</title>
<link>https://blog.niekun.net/archives/1718.html</link>
<dc:date>2020-08-13T23:20:39-04:00</dc:date>
<description>https://docs.python.org/3/library/argparse.htmlhttps://docs.python.org/3/library/struct.html</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1690.html">
<title>眼睛进阶处理 in Photoshop</title>
<link>https://blog.niekun.net/archives/1690.html</link>
<dc:date>2020-08-13T23:16:27-04:00</dc:date>
<description>在人像照片中，一双炯炯有神的眼睛会让照片整体突出，下面我们来尝试通过提升亮度，增加细节等过程来实现。下图是我们的原图：放大眼睛细节：原图已经很好了，很清晰。下面我们进行调整。强化亮部细节需要提亮的部分是光源点的对面，再此图中就是眼睛光斑的下方，新建图层，画笔工具画圆：擦除多余部分，笔刷选择软笔刷，可以先降低不透明度来看到背景：高斯模糊使过度自然：混合模式改为 overlay 实现提亮：blend option 去掉影响阴影部分：如果想要加强效果可以再次复制图层，调整不透明度。增加高光点新建曲线图层，拉高曲线：ctrl I 反转图层蒙版，白色画笔工具软笔刷在瞳孔下方点击一下：可以看到效果太强了，调低不透明度到合适：增加明暗细节新建曲线图层，提高曲线，反转图层蒙版：白色画笔工具使用软笔刷沿着瞳孔在亮部区域画出射线，这一步注意如果有数位板来画的话会更好：降低不透明度到合适：下面增加暗部细节，再次新建曲线，然后降低曲线，反转蒙版：同样的方法画出射线：降低不透明度：眼白清理首先清理红血丝，新建图层，选择修复画笔工具混合模式设置为 screen，这样可以只处理暗部血丝：按 alt 键采样眼白，涂抹血丝区域：然后进行 dogding and burning 明暗调节，首先建立 soild color 观察图层，混合模式改为 color 来只显示亮度情况：新建图层，混合模式改为 soft light，选择笔刷工具软笔刷流量改为 1，快捷键 D 恢复颜色为黑/白，根据实际用白色笔刷涂抹暗部，黑色笔刷涂抹过亮部分：然后修复亮度调整后的颜色变化，新建图层，混合模式改为 color，快捷键 I 拾取眼白正常部分的颜色，然后在新图层上涂抹出需要修复的区域：复制效果将亮部细节处理/高光点/明暗细节处理部分建立分组然后复制一份，安住 ctrl 拖动分组到另一只眼睛部分，可以配合蒙版清理多余部分：可以使用同样的方法清理另一只眼睛的眼白部分最终效果如下：</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1688.html">
<title>string &amp;lt;-&amp;gt; byte in python</title>
<link>https://blog.niekun.net/archives/1688.html</link>
<dc:date>2020-08-12T02:08:00-04:00</dc:date>
<description>To transform a unicode string to a byte string in Python do this:&gt;&gt;&gt; 'foo'.encode('utf_8')
b'foo'
To transform a byte string to a unicode string:&gt;&gt;&gt; b'foo'.decode('utf_8')
'foo'

To convert a string to bytes.data = &quot;&quot;               #string
data = &quot;&quot;.encode()      #bytes
data = b&quot;&quot;              #bytesTo convert bytes to a String.data = b&quot;&quot;              #bytes
data = b&quot;&quot;.decode()     #string
data = str(b&quot;&quot;)         #string</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1685.html">
<title>winreg 操作 Windows 注册表 in python</title>
<link>https://blog.niekun.net/archives/1685.html</link>
<dc:date>2020-08-12T01:56:00-04:00</dc:date>
<description>https://docs.python.org/3/library/winreg.html#https://stackoverflow.com/questions/15128225/python-script-to-read-and-write-a-path-to-registryimport winreg

REG_PATH = r&quot;Control Panel\Mouse&quot;

def set_reg(name, value):
    try:
        winreg.CreateKey(winreg.HKEY_CURRENT_USER, REG_PATH)
        registry_key = winreg.OpenKey(winreg.HKEY_CURRENT_USER, REG_PATH, 0, 
                                       winreg.KEY_WRITE)
        winreg.SetValueEx(registry_key, name, 0, winreg.REG_SZ, value)
        winreg.CloseKey(registry_key)
        return True
    except WindowsError:
        return False

def get_reg(name):
    try:
        registry_key = winreg.OpenKey(winreg.HKEY_CURRENT_USER, REG_PATH, 0,
                                       winreg.KEY_READ)
        value, regtype = winreg.QueryValueEx(registry_key, name)
        winreg.CloseKey(registry_key)
        return value
    except WindowsError:
        return None

#Example MouseSensitivity
#Read value 
print (get_reg('MouseSensitivity'))

#Set Value 1/20 (will just write the value to reg, the changed mouse val requires a win re-log to apply*)
set_reg('MouseSensitivity', str(10))

#*For instant apply of SystemParameters like the mouse speed on-write, you can use win32gui/SPI
#http://docs.activestate.com/activepython/3.4/pywin32/win32gui__SystemParametersInfo_meth.html</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1684.html">
<title>使用 opencv 处理图像</title>
<link>https://blog.niekun.net/archives/1684.html</link>
<dc:date>2020-08-06T23:37:51-04:00</dc:date>
<description>安装：https://pypi.org/project/opencv-python/使用：https://opencv-python-tutroals.readthedocs.io/en/latest/py_tutorials/py_setup/py_table_of_contents_setup/py_table_of_contents_setup.html示例：https://www.askaswiss.com/2016/01/how-to-create-pencil-sketch-opencv-python.html打包 exe：https://pypi.org/project/auto-py-to-exe/</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1680.html">
<title>xattr 命令清除 app 的隔离属性</title>
<link>https://blog.niekun.net/archives/1680.html</link>
<dc:date>2020-07-21T00:37:00-04:00</dc:date>
<description>macOS 中如果安装一些修改版或破解版软件，通过拖拽方式放到 application 目录，在打开 app 的时候可能提示程序无法运行，通常我们在系统 preference - security 里可以手动允许运行，但是有时候使用这种方法也无法打开，这是由于系统识别到这个 app 可能有问题所以给它加上了 com.apple.quarantine 隔离属性阻止了他的运行。如果我们需要运行它，就需要删除 app 的 com.apple.quarantine 属性，可以使用 xattr 来处理。macOS 上的文件不只有 "normal" 属性，也有 "读", "写", "执行" 等其他属性。常规属性可以用 ls -l myfile 命令来查看。除此之外还可以定义扩展属性，扩展属性的修改可以用 xattr 来处理。命令语法如下：xattr [options] attributes [files]
可用 option：   -c  CLear all Atrributes.
   -d  Delete the given attribute.
   -h  Help.
   -l  By default, the first two command forms either display just the attribute names or
       values, respectively. The -l option causes both the attribute names and corresponding
       values to be displayed. For hex display of values, the output is preceeded with the hex
       offset values and followed by ASCII display, enclosed by '|'.
   -p  Print the value associated with the given attribute.
   -r  If a file argument is a directory, act as if the entire contents of the directory
       recursively were also specified (so that every file in the directory tree is acted upon).
   -s  If a file argument is a symbolic link, act on the symbolic link itself, rather than
       the file that the symbolic link points at.
   -v  Force the the file name to be displayed, even for a single file.
   -w  Write a given attribute name with a value.
   -x  Force the attribute value to be displayed in the hexadecimal representation.   显示一个文件的存在的扩展属性：xattr myfile
显示一个文件的存在的扩展属性及这个属性的值：xattr -l myfile
给一个文件添加 com.example.color 属性：xattr -w com.example.color myfile
清除一个文件的 com.example.color 属性：xattr -d com.example.color myfile
清除一个文件夹内所有文件的 com.example.color 属性：xattr -d -r com.example.color mydir
清除一个文件的所有扩展属性：xattr -c myfile
对于被屏蔽的 app 需要清除com.apple.quarantine  这一属性，处理过程如下：首先查看 app 的现有属性：xattr /path/to/MyApp.app
如果返回的结果有 com.apple.quarantine 属性则执行下面命令删除：sudo xattr -r -d com.apple.quarantine /path/to/MyApp.app
执行后就可以正常打开 app 了。</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1677.html">
<title>cinema 4D 快捷键</title>
<link>https://blog.niekun.net/archives/1677.html</link>
<dc:date>2020-07-19T21:03:00-04:00</dc:date>
<description>1视角移动2视野放大/缩小3视角旋转  Eobject 移动Robject 旋转Tobject 放大/缩小  object 编辑 U线段功能菜单U + L选择闭合曲线U + U取消区域曲线选择M块功能菜单M + T块生成工具  Q隐藏 subdivision surface  alt + R区域渲染  </description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1666.html">
<title>Linux 下使用 OptiPNG 压缩图片</title>
<link>https://blog.niekun.net/archives/1666.html</link>
<dc:date>2020-07-14T05:25:00-04:00</dc:date>
<description>最近越来也发现自己的博客加载图片变慢了，由于我很多教程是教 PS 的，会使用到很多图片和截图，所以影响尤其明显。每张图片小则 400Kb 大则 2-3Mb，对于网络浏览不太友好。可以直接在服务器上进行图片压缩，用到的工具是 OptiPNG。OptiPNG home page：http://optipng.sourceforge.net/编译安装我选择从源码编译安装，这样可以直接使用最新版本。如何从源码编译程序可以参考我的文章：https://blog.niekun.net/archives/883.html首先从官网下载源码到 vps 并解压：cd /tmp
wget http://prdownloads.sourceforge.net/optipng/optipng-0.7.7.tar.gz
tar xvf optipng-0.7.7.tar.gz
新建安装路径：mkdir /opt/optipng-0.7.7
ln -s /opt/optipng-0.7.7 /opt/optipng
configure & make：cd /tmp/optipng-0.7.7
./configure --prefix=/opt/optipng-0.7.7
make
make install
测试是否可以执行：/opt/optipng/bin/optipng
创建系统链接：ln -s /opt/optipng/bin/optipng /usr/local/bin/optipng
使用可以使用命令查看处理前处理后的图片体积：ls -lh a.png
压缩一张 png 图片：optipng a.png
压缩目录下的所有 png 图片：optipng *.png
可以自定义压缩等级：Optimization levels:
    -o0         &lt;=&gt;     -o1 -nx -nz                             (0 or 1 trials)
    -o1         &lt;=&gt;     -zc9 -zm8 -zs0 -f0                      (1 trial)
                (or...) -zc9 -zm8 -zs1 -f5                      (1 trial)
    -o2         &lt;=&gt;     -zc9 -zm8 -zs0-3 -f0,5                  (8 trials)
    -o3         &lt;=&gt;     -zc9 -zm8-9 -zs0-3 -f0,5                (16 trials)
    -o4         &lt;=&gt;     -zc9 -zm8 -zs0-3 -f0-5                  (24 trials)
    -o5         &lt;=&gt;     -zc9 -zm8-9 -zs0-3 -f0-5                (48 trials)
    -o6         &lt;=&gt;     -zc1-9 -zm8 -zs0-3 -f0-5                (120 trials)
    -o7         &lt;=&gt;     -zc1-9 -zm8-9 -zs0-3 -f0-5              (240 trials)
    -o7 -zm1-9  &lt;=&gt;     -zc1-9 -zm1-9 -zs0-3 -f0-5              (1080 trials)
Notes:
    The combination for -o1 is chosen heuristically.
    Exhaustive combinations such as &quot;-o7 -zm1-9&quot; are not generally recommended.
Examples:
    optipng file.png                                            (default speed)
    optipng -o5 file.png                                        (slow)
    optipng -o7 file.png                                        (very slow)</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1653.html">
<title>快速给黑白照上色 in Photoshop</title>
<link>https://blog.niekun.net/archives/1653.html</link>
<dc:date>2020-07-14T02:37:09-04:00</dc:date>
<description>如果你需要给黑白照片添加颜色，这个教程可以帮助你快速完成。它通过把照片上传到一个免费的网站来自动给照片上色，然后再 Photoshop 中对自动处理不完美的地方进行精细调整最终得到满意的效果。免费上色网站地址为：https://imagecolorizer.com/我们首先测试人像：将图片上传到网站，等待自动处理完成后下载到本地：自动处理结果如下，可以看到基本比较完善，但是细节处有一些偏色，色条和漏掉颜色的地方：下面我们进入 Photoshop 进行处理，将原图和处理后的图片导入，将处理后的图层模式设置为 color，我们只用处理后的色彩信息：首先处理皮肤表面的不规则色条，选择 filter - blur - furface blur，放大可以看到表面的色条：调整 radius 和 threshold 使表面颜色平滑：然后我们处理脖子部分的颜色丢失：新建图层，混合模式改为 color，拾取附近色彩正常区域的颜色，快捷键 I：使用画笔工具涂抹需要重新上色的区域：面部饱和度过高，新建 hue 图层降低面部饱和度，配合蒙版操作：最终效果如下：</description>
</item>
</rdf:RDF>