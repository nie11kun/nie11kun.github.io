<?xml version="1.0" encoding="UTF-8"?>
<rdf:RDF
xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns="http://purl.org/rss/1.0/"
xmlns:dc="http://purl.org/dc/elements/1.1/">
<channel rdf:about="https://blog.niekun.net/feed/rss/category/cpp/">
<title>Marco Nie - c++</title>
<link>https://blog.niekun.net/category/cpp/</link>
<description></description>
<items>
<rdf:Seq>
<rdf:li resource="https://blog.niekun.net/archives/2208.html"/>
<rdf:li resource="https://blog.niekun.net/archives/2066.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1968.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1956.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1953.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1946.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1940.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1927.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1920.html"/>
<rdf:li resource="https://blog.niekun.net/archives/1918.html"/>
</rdf:Seq>
</items>
</channel>
<item rdf:about="https://blog.niekun.net/archives/2208.html">
<title>QT 中通过 QCustomPlot widget 绘制可视化曲线表</title>
<link>https://blog.niekun.net/archives/2208.html</link>
<dc:date>2021-03-19T17:24:46+08:00</dc:date>
<description>今天在项目中需要添加一个柱状图，但由于我们的项目是 QT 4.8 的所以不支持 **QtCharts**。查询了下发现有 **QCustomPlot** 可以完美的实现需求，使用方法也很简单。

官网：https://www.qcustomplot.com/
下载：https://www.qcustomplot.com/index.php/download





**QCustomPlot** 只有两个文件 `qcustomplot.cpp` 和 `qcustomplot.h`，将其复制到项目目录中并添加到项目中。然后引用头文件即可：
    #include "qcustomplot.h"

我们需要在 ui 中添加一个 widget 然后右键点击控件，选择提升：
![2021-03-19T09:15:23.png][1]

提升的 class 名称修改为 QCustomPlot：
![2021-03-19T09:16:47.png][2]

点击 **add** 然后点击 **promote** 即可。

编译后可以看到图表样式：








在使用中如果需要根据数据变化刷新渲染的图形，记得在修改数据后调用 


  [1]: https://blog.niekun.net/usr/uploads/2021/03/1732184362.png
  [2]: https://blog.niekun.net/usr/uploads/2021/03/2440250486.png</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/2066.html">
<title>c++ 类型转换</title>
<link>https://blog.niekun.net/archives/2066.html</link>
<dc:date>2021-01-14T11:58:00+08:00</dc:date>
<description>### Implicit conversion 隐式转换

当一个数据复制为兼容格式的类型时，隐式转换可以自动完成。

请看下面示例：
```
double a = 100.1;
int b;
b = a;
cout </description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1968.html">
<title>c++ 字符串数组指针的研究</title>
<link>https://blog.niekun.net/archives/1968.html</link>
<dc:date>2020-12-08T21:37:00+08:00</dc:date>
<description>在实际使用中发现对字符串的运用是一个容易混乱的地方，尤其是使用指针指向一个字符串数组的时候。下面做一些简单分析。

**一个简单的测试：**
```
    const char* test1 = "abc";
    const string test2 = "abc";

    cout </description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1956.html">
<title>Macros 聚集 in c++</title>
<link>https://blog.niekun.net/archives/1956.html</link>
<dc:date>2020-12-01T11:37:00+08:00</dc:date>
<description>在 c++ 中，一个 Macro 就是一段代码的聚合。使用这个 macro 名称就代表着对应的代码段。

有两种常见的 macro：object 形式，function 形式。可以定义任意有效的字符作为 macro 名称，甚至是 c 关键词。




### object 形式

object 形式的 macro 就是简单的使用一个 identifier 代替代码片段。使用 `#define` 定义一个 macro：
```
#define TESTINT 1024

void main() {
    int a = TESTINT;
    cout </description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1953.html">
<title>c++ 中 string 字符串的含义</title>
<link>https://blog.niekun.net/archives/1953.html</link>
<dc:date>2020-11-25T11:52:00+08:00</dc:date>
<description>有如下代码：
```
int main()
{
    char *s;
    s = "hello";

    cout </description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1946.html">
<title>c++ 中数组类型数据作为 function 参数时的注意事项</title>
<link>https://blog.niekun.net/archives/1946.html</link>
<dc:date>2020-11-25T11:16:00+08:00</dc:date>
<description>关于 function 的基础教程参考：[C++ 入门教程之四 -- Functions](https://blog.niekun.net/archives/1915.html)

当 function 的传入参数为数组时，如果我们想要得到数组元素个数可能会这样写：
```
void testFunc(int arr[]) {
    int count = sizeof(arr)/sizeof(arr[0]);
}

int main()
{
    int arr[] = {1, 3, 6, 8};
    cout </description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1940.html">
<title>C++ 入门教程之八 -- Templates - Exceptions - Files</title>
<link>https://blog.niekun.net/archives/1940.html</link>
<dc:date>2020-11-23T21:41:00+08:00</dc:date>
<description>### function template

使用 function 和 class 使我们编程更加简单及易操作。但是它们仍然受限于 c++ 编程规范，在定义它们的参数时必须指定参数的类型。例如：
```
int sum(int a, int b) {
  return a+b;
}

int main () {
  int x=7, y=15;
  cout </description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1927.html">
<title>C++ 入门教程之七 -- 继承和多态</title>
<link>https://blog.niekun.net/archives/1927.html</link>
<dc:date>2020-11-21T22:31:00+08:00</dc:date>
<description>### inheritance 继承

**inheritance 继承**是面向对象编程最重要的概念之一。继承允许我们基于已有的 class 创建新的 class。这能够极大的方便我们创建应用程序。

一个 class 的属性被其他 class 继承，我们称这个 class 叫做 base class。一个从 base class 继承属性的 class 我们称其为 derived class。一个 derived class 获得所有 base class 的功能，且可以有自己独有的功能：
![1.png][1]




**继承**的概念是 `is a 属于是什么` 的关系，例如：猫 is a 动物，狗 is a 动物。两者都继承了动物的属性。

我们来建立两个 class：Mother 和 Daughter：
```
class Mother
{
 public:
 Mother() {};
 void sayHi() {
   cout </description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1920.html">
<title>C++ 入门教程之六 -- Classes 实践/头文件/操作符复用</title>
<link>https://blog.niekun.net/archives/1920.html</link>
<dc:date>2020-11-21T16:42:00+08:00</dc:date>
<description>下面我们通过实际应用来介绍如果在真实环境下应用。

我们使用 Code::Blocks IDE 来进行调试。这是一个免费的 c++ 开发环境，能够应用于绝大多数使用场景。

官网：http://www.codeblocks.org/

在下载界面下载对应系统版本的安装包：http://www.codeblocks.org/downloads/26

最好安装带编译器的版本，这样就可以直接使用。




### 新建项目

安装好 codeblock 后新建一个项目：
![1.jpg][1]

选择 console application：
![2.jpg][2]

根据提示设置项目名称等，完成项目建立。

然后添加一个 class：
![3.jpg][3]

设置 class 名称，取消勾选 **has destructor**，勾选 **headers and implementation file shall be in same folder**：
![4.jpg][4]

完成后项目结构如下：
![5.jpg][5]

- **main.cpp** 项目主文件
- **MyClass.cpp** class source 源文件
- **MyClass.h** class header 头文件

### 头文件和源文件

头文件 `.h` 申明了 class 的 function 和 variable 变量等元素，我们新建的 class 头文件内容如下：
```
#ifndef MYCLASS_H
#define MYCLASS_H


class MyClass
{
    public:
        MyClass();

    protected:

    private:
};

#endif // MYCLASS_H
```

里面只默认包含了一个 constructor 构造器 `MyClass()`。

源文件 `.cpp` 包含了这个 class 具体 function 和 variable 等元素的实现过程。当前只有一个空的构造器 function：
```
#include "myclass.h"

MyClass::MyClass()
{
    //ctor
}
```

**范围解析符：**
我们注意到源文件内构造器前的两个冒号`::`，叫做 scope resolution operator 范围解析符。这个符号是用来表示那些已经在头文件内申明过的 function 要在这里做具体实现了。用来和头文件内定义的元素进行关联的作用。

关于`::`和`.`的使用场景我的理解是，当在定义一个元素或功能时用范围解析符`::`，当实例化object后使用其一个元素或功能时用点`.`，例如：
```
//定义一个元素为class内的一个att1类型：
MyClass1::att1 a;

//使用class的function：
MyClass2 obj;
obj.func();
```

要在 main 总使用我们创建的 class，只需要在其中引用头文件名即可:
```
#include 
#include "myclass.h"

using namespace std;

int main()
{
    MyClass obj;
    return 0;
}
```

**总体来说，头文件用来定义 class 提供了哪些功能及元素，源文件用来具体实现这些功能。**

### destructor 销毁器

和上一章我们讲到的 constructor 构造器类似，destructor 销毁器也是一个特殊的 function，他在 object 被销毁时自动执行。

销毁一个 object 一般是在跳出创建这个 object 的 scope 段或者使用 pointer 指针指向这个 object，使用 delete 指令清除此指针指向的数据。

销毁其的写法和构造器类似，使用 class 名作为 function 名字，前面加上一个波浪符`~`。当然也是没有返回值类型的。例如：
```
class MyClass {
  public: 
    ~MyClass() {
     // some code
    }
};
```

**使用销毁器能够方便的实现在关闭程序时释放资源，关闭文件，释放内存等功能。**

在头文件中声明一个销毁器：
```
class MyClass
{
  public:
   MyClass();
   ~MyClass();
};
```

然后再源文件内定义具体实现内容：
```
#include "MyClass.h"
#include 
using namespace std;

MyClass::MyClass()
{
  cout</description>
</item>
<item rdf:about="https://blog.niekun.net/archives/1918.html">
<title>C++ 入门教程之五 -- Classes and Objects</title>
<link>https://blog.niekun.net/archives/1918.html</link>
<dc:date>2020-11-20T11:32:00+08:00</dc:date>
<description>### object 对象

Object Oriented Programming 面向对象编程是为了让编程更加接近于真实世界的理解方式。在程序中，每个 object 是一个独立的 unite 单元，拥有自己的 identify 标识，就像真实世界的某个独立物体一样。

例如一个苹果就是一个 object，它的 identify 就是名称 `苹果`，每个苹果都有自己独立的 attributes 属性，如颜色，大小。一个属性就是这个 object 当前状态的描述。不同 object 的 attributes 属性是不一样的，例如一个苹果是绿色的，另一个是红色的。

在正式世界中 object 都有其 behave 行为，例如汽车的 move 移动，手机的 ring 响铃。这种 object 的行为叫做 object 的 type 类型。

**描述一个 object需要的元素：identify 标识，attributes 属性，behavior 行为**




在程序中每个 object 是独立的，拥有独立的 identify 用来区分其他的 object：
![1.png][1]

### class 

我们通过创建 class 来表示 object，一个 class 描述了一个 object 的形象，但是它并不是一个真正的 object，他只是一个对某种 object 结构的定义。一个 class 可以用来建立多个 object。例如一套设计图纸可以用来作为蓝图修建多栋楼房。

一个 class 包含：identify，attributes，behavior

程序中，一个对象的 type 就是 class 的 name 名称；Attributes 属性可以是 properties 或 data 数据；behavior 行为通常是一个 function。

例如我们建立一个银行系统程序：
- name: BankAccount
- attributes: accountNumber, balance, dateOpened
- behavior: open(), close(), deposit()

一个 class 定义了某种 object 需要的属性和行为。但是它并不直接定义具体的属性值是多少，她只是一个框架的描述。

当我们写好了一个 class，可以基于这个 class 来创建 objects，这个 object 就是 instance of class，就是 class 的实例。

### 建立 class

使用关键字 `class` 来建立 class，然后定义 class 名称，class 内容写在大括号`{}` 内。注意每个 class 结尾必须写分号`;`。例如：
```
class BankAccount {

};
```

一个 class 的 attributes 和 behaviors 可以设置 access 访问级别。定义时使用关键词 `public` 不仅可以在 class 内部使用，也可以在 class 外部访问这个属性。也可以是使用关键词 `private` 或 `protected`，下面做详细介绍。

建立一个 class：
```
class BankAccount {
  public:
    void sayHi() {
      cout </description>
</item>
</rdf:RDF>