<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7051950560656517" crossorigin="anonymous" type="3c52b3447355f6603efaa9ae-text/javascript"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>openssl 加密/解密使用 | Marco Nie</title>
    <link rel="stylesheet" href="../usr/themes/classic-22/static/css/style.css">
        <link rel="canonical" href="464.html" />
<link rel="pingback" href="../action/xmlrpc" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../action/xmlrpc?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../action/xmlrpc?wlw" />
<link rel="alternate" type="application/rss+xml" title="openssl 加密/解密使用 &raquo; Marco Nie &raquo; RSS 2.0" href="../feed/archives/464.html" />
<link rel="alternate" type="application/rdf+xml" title="openssl 加密/解密使用 &raquo; Marco Nie &raquo; RSS 1.0" href="../feed/rss/archives/464.html" />
<link rel="alternate" type="application/atom+xml" title="openssl 加密/解密使用 &raquo; Marco Nie &raquo; ATOM 1.0" href="../feed/atom/archives/464.html" />
<meta name="description" content="OpenSSL 是一个安全套接字层密码库，囊括主要的密码算法、常用的密钥和证书封装管理功能及SSL协议，并提供丰富的应用程序供测试或其它目的使用。" />
<meta name="keywords" content="openssl" />
<meta name="generator" content="Typecho 1.3.0" />
<meta name="template" content="classic-22" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.niekun.net/archives/464.html" />
<meta name="twitter:title" property="og:title" itemprop="name" content="openssl 加密/解密使用" />
<meta name="twitter:description" property="og:description" itemprop="description" content="OpenSSL 是一个安全套接字层密码库，囊括主要的密码算法、常用的密钥和证书封装管理功能及SSL协议，并提供丰富的应用程序供测试或其它目的使用。" />
<meta property="og:site_name" content="Marco Nie" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:domain" content="blog.niekun.net" />
<script type="3c52b3447355f6603efaa9ae-text/javascript">
(function () {
    window.TypechoComment = {
        dom : function (sel) {
            return document.querySelector(sel);
        },
        
        visiable: function (el, show) {
            el.style.display = show ? '' : 'none';
        },
    
        create : function (tag, attr) {
            const el = document.createElement(tag);
        
            for (const key in attr) {
                el.setAttribute(key, attr[key]);
            }
        
            return el;
        },
        
        inputParent: function (response, coid) {
            const form = 'form' === response.tagName ? response : response.querySelector('form');
            let input = form.querySelector('input[name=parent]');
            
            if (null == input && coid) {
                input = this.create('input', {
                    'type' : 'hidden',
                    'name' : 'parent'
                });

                form.appendChild(input);
            }
            
            if (coid) {
                input.setAttribute('value', coid);
            } else if (input) {
                input.parentNode.removeChild(input);
            }
        },
        
        getChild: function (root, node) {
            const parentNode = node.parentNode;
            
            if (parentNode === null) {
                return null;
            } else if (parentNode === root) {
                return node;
            } else {
                return this.getChild(root, parentNode);
            }
        },

        reply : function (htmlId, coid, btn) {
            const response = this.dom('#respond-post-464'),
                textarea = response.querySelector('textarea[name=text]'),
                comment = this.dom('#' + htmlId),
                child = this.getChild(comment, btn);

            this.inputParent(response, coid);

            if (this.dom('#respond-post-464-holder') === null) {
                const holder = this.create('div', {
                    'id' : 'respond-post-464-holder'
                });

                response.parentNode.insertBefore(holder, response);
            }
            
            if (child) {
                comment.insertBefore(response, child.nextSibling);
            } else {
                comment.appendChild(response);
            }

            this.visiable(this.dom('#cancel-comment-reply-link'), true);

            if (null != textarea) {
                textarea.focus();
            }

            return false;
        },

        cancelReply : function () {
            const response = this.dom('#respond-post-464'),
                holder = this.dom('#respond-post-464-holder');

            this.inputParent(response, false);

            if (null === holder) {
                return true;
            }

            this.visiable(this.dom('#cancel-comment-reply-link'), false);
            holder.parentNode.insertBefore(response, holder);
            return false;
        }
    };
})();
</script><script type="3c52b3447355f6603efaa9ae-text/javascript">
(function () {
    const events = ['scroll', 'mousemove', 'keyup', 'touchstart'];
    let added = false;

    document.addEventListener('DOMContentLoaded', function () {
        const response = document.querySelector('#respond-post-464');

        if (null != response) {
            const form = 'form' === response.tagName ? response : response.querySelector('form');
            const input = document.createElement('input');
            
            input.type = 'hidden';
            input.name = '_';
            input.value = (function () {
    var _Nkd8Wn = //'29x'
'87'+//'Ck'
'f3a'+'A7C'//'A7C'
+//'mp'
'e'+//'QvR'
'QvR'+/* 'hA'//'hA' */''+'ZpU'//'ZpU'
+//'29'
'29'+'ed'//'kXD'
+/* 'yo'//'yo' */''+''///*'N'*/'N'
+'a3'//'dZg'
+'74'//'m'
+'Bci'//'Bci'
+//'FEI'
'c7c'+'e7d'//'3H'
+//'MV'
'5'+'7f1'//'axI'
+/* 'tsu'//'tsu' */''+//'j'
'a78'+''///*'Hd'*/'Hd'
+//'G'
'bc'+'a'//'0'
+//'ys'
'c'+//'O'
'a01', _m4BI8 = [[5,8],[6,9],[6,9],[6,8],[12,15]];
    
    for (var i = 0; i < _m4BI8.length; i ++) {
        _Nkd8Wn = _Nkd8Wn.substring(0, _m4BI8[i][0]) + _Nkd8Wn.substring(_m4BI8[i][1]);
    }

    return _Nkd8Wn;
})();;
 
            if (form) {
                function append() {
                    if (!added) {
                        form.appendChild(input);
                        added = true;
                    }
                }
            
                for (const event of events) {
                    window.addEventListener(event, append);
                }
            }
        }
    });
})();
</script></head>

<body>

<header class="site-navbar container-fluid">
    <nav>
        <ul class="site-name">
                    <li>
                <a href="../index.html" class="brand">Marco Nie</a>
            </li>
            <li class="desc">you are the company you keep...</li>
                </ul>

        <ul>
            <li>
                <label for="nav-toggler" class="nav-toggler-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12" /><line x1="3" y1="6" x2="21" y2="6" /><line x1="3" y1="18" x2="21" y2="18" /></svg>
                </label>
            </li>
        </ul>
    </nav>

    <nav class="site-nav">
        <input type="checkbox" id="nav-toggler">

        <ul class="nav-menu">
            <li>
                <a href="../index.html">首页</a>
            </li>

                                    <li>
                <a href="../start-page.html">关于我</a>
            </li>
                        <li>
                <form method="post" action="../index.html">
                    <input type="search" id="s" name="s">
                </form>
            </li>
        </ul>
    </nav>
</header>

<main class="container">
    <div class="container-thin">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
                <header class="entry-header text-center">
        <h1 class="entry-title" itemprop="name headline">
            <a href="464.html" itemprop="url">openssl 加密/解密使用</a>
        </h1>
                <ul class="entry-meta list-inline text-muted">
            <li class="feather-calendar"><time datetime="2019-11-08T11:58:00+08:00" itemprop="datePublished">2019-11-08</time></li>
            <li class="feather-folder"><a href="../category/software/index.html">software</a></li>
            <li class="feather-message"><a href="464.html#comments"  itemprop="discussionUrl">暂无评论</a></li>
        </ul>
            </header>

            <div class="entry-content fmt" itemprop="articleBody">
                <p>OpenSSL 是一个安全套接字层密码库，囊括主要的密码算法、常用的密钥和证书封装管理功能及SSL协议，并提供丰富的应用程序供测试或其它目的使用。</p><!--more--><p>openssl 安装参考：<a href="https://niekun.net/index.php/archives/183.html">https://niekun.net/index.php/archives/183.html</a></p><p><strong>三个部分组成：</strong><br>libcryto：这是一个具有通用功能的加密库，里面实现了众多的加密库<br>libssl，这个是实现ssl机制的，它是用于实现TLS/SSL的功能<br>openssl，是个多功能命令行工具，它可以实现加密解密，甚至还可以当CA来用，可以让你创建证书、吊销证书</p><h2>openssl 可用命令：</h2><pre><code>marconie@marco-mbp ~ % openssl help
Standard commands
asn1parse         ca                ciphers           cms               
crl               crl2pkcs7         dgst              dhparam           
dsa               dsaparam          ec                ecparam           
enc               engine            errstr            gendsa            
genpkey           genrsa            help              list              
nseq              ocsp              passwd            pkcs12            
pkcs7             pkcs8             pkey              pkeyparam         
pkeyutl           prime             rand              rehash            
req               rsa               rsautl            s_client          
s_server          s_time            sess_id           smime             
speed             spkac             srp               storeutl          
ts                verify            version           x509              

Message Digest commands (see the `dgst' command for more details)
blake2b512        blake2s256        gost              md4               
md5               mdc2              rmd160            sha1              
sha224            sha256            sha3-224          sha3-256          
sha3-384          sha3-512          sha384            sha512            
sha512-224        sha512-256        shake128          shake256          
sm3               

Cipher commands (see the `enc' command for more details)
aes-128-cbc       aes-128-ecb       aes-192-cbc       aes-192-ecb       
aes-256-cbc       aes-256-ecb       aria-128-cbc      aria-128-cfb      
aria-128-cfb1     aria-128-cfb8     aria-128-ctr      aria-128-ecb      
aria-128-ofb      aria-192-cbc      aria-192-cfb      aria-192-cfb1     
aria-192-cfb8     aria-192-ctr      aria-192-ecb      aria-192-ofb      
aria-256-cbc      aria-256-cfb      aria-256-cfb1     aria-256-cfb8     
aria-256-ctr      aria-256-ecb      aria-256-ofb      base64            
bf                bf-cbc            bf-cfb            bf-ecb            
bf-ofb            camellia-128-cbc  camellia-128-ecb  camellia-192-cbc  
camellia-192-ecb  camellia-256-cbc  camellia-256-ecb  cast              
cast-cbc          cast5-cbc         cast5-cfb         cast5-ecb         
cast5-ofb         des               des-cbc           des-cfb           
des-ecb           des-ede           des-ede-cbc       des-ede-cfb       
des-ede-ofb       des-ede3          des-ede3-cbc      des-ede3-cfb      
des-ede3-ofb      des-ofb           des3              desx              
idea              idea-cbc          idea-cfb          idea-ecb          
idea-ofb          rc2               rc2-40-cbc        rc2-64-cbc        
rc2-cbc           rc2-cfb           rc2-ecb           rc2-ofb           
rc4               rc4-40            seed              seed-cbc          
seed-cfb          seed-ecb          seed-ofb          sm4-cbc           
sm4-cfb           sm4-ctr           sm4-ecb           sm4-ofb</code></pre><h2>openssl enc 组件</h2><pre><code>marconie@marco-mbp ~ % openssl enc -help
Usage: enc [options]
Valid options are:
 -help               Display this summary
 -list               List ciphers
 -ciphers            Alias for -list
 -in infile          Input file
 -out outfile        Output file
 -pass val           Passphrase source
 -e                  Encrypt
 -d                  Decrypt
 -p                  Print the iv/key
 -P                  Print the iv/key and exit
 -v                  Verbose output
 -nopad              Disable standard block padding
 -salt               Use salt in the KDF (default)
 -nosalt             Do not use salt in the KDF
 -debug              Print debug info
 -a                  Base64 encode/decode, depending on encryption flag
 -base64             Same as option -a
 -A                  Used with -[base64|a] to specify base64 buffer as a single line
 -bufsize val        Buffer size
 -k val              Passphrase
 -kfile infile       Read passphrase from file
 -K val              Raw key, in hex
 -S val              Salt, in hex
 -iv val             IV in hex
 -md val             Use specified digest to create a key from the passphrase
 -iter +int          Specify the iteration count and force use of PBKDF2
 -pbkdf2             Use password-based key derivation function 2
 -none               Don't encrypt
 -*                  Any supported cipher
 -rand val           Load the file(s) into the random number generator
 -writerand outfile  Write random data to the specified file
 -engine val         Use engine, possibly a hardware device</code></pre><h2>加密文件</h2><pre><code>openssl enc -aes-256-cbc -md sha512 -pbkdf2 -iter 1000 -pass pass:PASSWORD -in YOURFILE -out ENC_YOURFILE
</code></pre><h2>解密文件</h2><pre><code>openssl enc -aes-256-cbc -d -md sha512 -pbkdf2 -iter 1000 -pass pass:PASSWORD -in YOURFILE -out ENC_YOURFILE
</code></pre><p><strong>注意：如果主机性能较低，建议去掉自定义 iter 使用 pbkdf2 默认设置即可。</strong></p>                <p itemprop="keywords">标签：<a href="../tag/openssl/index.html">openssl</a></p>
            </div>
        </article>

        <nav class="post-nav">
            <ul class="page-navigator">
                <li class="prev"><a href="461.html" title="使用 crontab 设置 Linux 定时任务">使用 crontab 设置 Linux 定时任务</a></li>
                <li class="next"><a href="466.html" title="VPS 自动备份脚本">VPS 自动备份脚本</a></li>
            </ul>
        </nav>

        <div id="comments">
        
            <div id="respond-post-464" class="respond">
            <div class="cancel-comment-reply">
                <a id="cancel-comment-reply-link" href="464.html#respond-post-464" rel="nofollow" style="display:none" onclick="if (!window.__cfRLUnblockHandlers) return false; return TypechoComment.cancelReply();" data-cf-modified-3c52b3447355f6603efaa9ae-="">取消回复</a>            </div>

            <h5 id="response">你的评论</h5>

            <form method="post" action="https://blog.niekun.net/archives/464.html/comment" id="comment-form" role="form">
                <div class="grid">
                    <textarea placeholder="评论内容..." rows="4" cols="300" name="text" id="textarea" required></textarea>
                </div>
                                <div class="grid">
                    <input type="text" placeholder="名字" name="author" id="author" value="" required/>
                    <input type="email" placeholder="Email" name="mail" id="mail" value="" required />
                    <input type="url" placeholder="http://网站（选填）" name="url" id="url" value="" />
                </div>
                                <button type="submit">提交评论</button>
            </form>
        </div>
    </div>
    </div>
</main>

<footer class="site-footer container-fluid">
    <div class="d-flex justify-content-between">
        <ul class="list-inline text-muted">
            <li>&copy; 2025 <a href="../index.html">Marco Nie</a></li>
            <li><a href="../feed/index.html">RSS</a></li>
        </ul>
        <ul class="list-inline text-muted">
            <li>
                Powered by <a href="https://typecho.org">Typecho</a>            </li>
        </ul>
    </div>
</footer>


<script src="../cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js" data-cf-settings="3c52b3447355f6603efaa9ae-|49" defer></script></body>
</html>
