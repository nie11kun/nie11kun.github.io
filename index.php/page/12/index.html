<!DOCTYPE HTML>
<html class="no-js">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Marco Nie</title>

<link rel="stylesheet" href="https://niekun.net/usr/themes/default/normalize.css">
<link rel="stylesheet" href="https://niekun.net/usr/themes/default/grid.css">
<link rel="stylesheet" href="https://niekun.net/usr/themes/default/style.css">
<!--[if lt IE 9]>
    <script src="//cdnjscn.b0.upaiyun.com/libs/html5shiv/r29/html5.min.js"></script>
    <script src="//cdnjscn.b0.upaiyun.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

<meta name="description" content="I’m dancing at the feet of my lord..." />
<meta name="keywords" content="Linux,media edit,macOS,Siemens" />
<meta name="generator" content="Typecho 1.2/18.10.23" />
<meta name="template" content="default" />
<link rel="pingback" href="https://niekun.net/index.php/action/xmlrpc" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://niekun.net/index.php/action/xmlrpc?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://niekun.net/index.php/action/xmlrpc?wlw" />
<link rel="alternate" type="application/rss+xml" title="Marco Nie &raquo; RSS 2.0" href="https://niekun.net/index.php/feed/" />
<link rel="alternate" type="application/rdf+xml" title="Marco Nie &raquo; RSS 1.0" href="https://niekun.net/index.php/feed/rss/" />
<link rel="alternate" type="application/atom+xml" title="Marco Nie &raquo; ATOM 1.0" href="https://niekun.net/index.php/feed/atom/" />
</head>
<body>
<!--[if lt IE 8]>
    <div class="browsehappy" role="dialog">当前网页 <strong>不支持</strong> 你正在使用的浏览器. 为了正常的访问, 请 <a href="http://browsehappy.com/">升级你的浏览器</a>.</div>
<![endif]-->
<header id="header" class="clearfix">
<div class="container">
<div class="row">
<div class="site-name col-mb-12 col-9">
<a id="logo" href="https://niekun.net/">Marco Nie</a>
<p class="description">I’m dancing at the feet of my lord...</p>
</div>
<div class="site-search col-3 kit-hidden-tb">
<form id="search" method="post" action="https://niekun.net/" role="search">
<label for="s" class="sr-only">搜索关键字</label>
<input type="text" id="s" name="s" class="text" placeholder="输入关键字搜索" />
<button type="submit" class="submit">搜索</button>
</form>
</div>
<div class="col-mb-12">
<nav id="nav-menu" class="clearfix" role="navigation">
<a class="current" href="https://niekun.net/">Article</a>
<a href="https://niekun.net/index.php/start-page.html" title="About me">About me</a>
</nav>
</div>
</div>
</div>
</header>
<div id="body">
<div class="container">
<div class="row">
<div class="col-mb-12 col-8" id="main" role="main">
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
<h2 class="post-title" itemprop="name headline"><a itemprop="url" href="https://niekun.net/index.php/archives/119.html">流行的逆流</a></h2>
<ul class="post-meta">
<li itemprop="author" itemscope itemtype="http://schema.org/Person">作者: <a itemprop="name" href="https://niekun.net/index.php/author/1/" rel="author">admin</a></li>
<li>时间: <time datetime="2019-03-04T22:41:00+08:00" itemprop="datePublished">2019-03-04</time></li>
<li>分类: <a href="https://niekun.net/index.php/category/essay/">essay</a></li>
<li itemprop="interactionCount"><a itemprop="discussionUrl" href="https://niekun.net/index.php/archives/119.html#comments">评论</a></li>
</ul>
<div class="post-content" itemprop="articleBody">
<p><audio controls> <source src="/usr/myuploads/yueyawan.mp3" type="audio/mpeg"> Your browser does not support the audio element. </audio></p><p>前不久开始，在路上听到几次一首熟悉的歌，一时想不起来名字，但歌词和旋律告诉我是初中或高中时流行的一首歌，脑海里一直想着这个事。</p><p>这两天有空了，就通过一些歌词片段，搜索到了歌名，FIR乐队的“月牙湾”，发布于07年。</p><p>音乐能够尘封一段记忆，当旋律响起，总是将当时的情景推到眼前。</p><p>思绪回到那些年，正是高中时候，正是那一批“天王天后”们红极一时的时代，杰伦/力宏/陶喆/潘玮柏正是大红大紫，蔡依林/twins/SHE也是玉女代表。晚上用着随身听，借室友的磁带听着“七里香”，循环了不知多少个夜晚，每周班上学歌，都是以上几位的作品，因为喜欢同一个明星的太多，我也是不太流露处自己的喜好，因为那是一个都喜欢突出自己个性的时候，所谓不走寻常路吧。</p><p>记得有个同学，省吃俭用好久买了个mp3，里面放满了杰伦的歌，感觉满足到爆的样子，我也常常借来听，那时候不懂什么音质，单纯的听到哪个期待的旋律就心跳加速，仿佛世界都是我的。</p><p>那个冬天，下了早读去吃早饭，广播响起了“莫斯科没有眼泪”，配合着冬天的景象，光秃的树干，微风，微凉和裹得严严实实的同学们匆忙的脚步，感觉是那样的应景，每当现在听到这首歌，我就仿佛又走在去往食堂的路上...</p><p>大学的时候，喜欢听欧美流行。突然感觉过去喜欢的这一票歌手都太low了，感觉自己那时候就是鼠目寸光不懂得什么叫更高级的音乐。记得有很久一段时间都没有再听周杰伦一众的歌了，仿佛要和过去的自己告别。那时候可能真的是感觉更加期待未来，过去什么的没有值得留恋的。</p><p>现在的我，可能是生活和经历的关系，更加念旧了，有时候看到听到想到过去的人事物，就想要抓住些什么。我不知道这是长大的原因，还是我对当前生活的逃避。但我选择顺其自然，我不觉得对过去的留恋就是懦弱，就是没有积极向上态度面向未来的失败者。我想每个人都有自己的原则和信念。对错都是相对的，自己之所以为自己而不是别人就是有属于个人的精神层面的一些东西吧。</p> </div>
</article>
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
<h2 class="post-title" itemprop="name headline"><a itemprop="url" href="https://niekun.net/index.php/archives/118.html">重定向 HTTP to HTTPS in Nginx</a></h2>
<ul class="post-meta">
<li itemprop="author" itemscope itemtype="http://schema.org/Person">作者: <a itemprop="name" href="https://niekun.net/index.php/author/1/" rel="author">admin</a></li>
<li>时间: <time datetime="2019-02-26T21:21:00+08:00" itemprop="datePublished">2019-02-26</time></li>
<li>分类: <a href="https://niekun.net/index.php/category/Linux/">Linux</a>,<a href="https://niekun.net/index.php/category/web/">web</a></li>
<li itemprop="interactionCount"><a itemprop="discussionUrl" href="https://niekun.net/index.php/archives/118.html#comments">评论</a></li>
</ul>
<div class="post-content" itemprop="articleBody">
<p>将http请求重定向为https，使所有连接都使用安全的ssl。</p><h2>重定向所有http请求</h2><p>以下配置为将所有收到的80端口的请求都重定向到443端口,这会把此ip下的所有域名都转换：</p><pre><code>server {
    listen           80;
    listen           [::]:80;
    server_name      _;
    return           301 https://$host$request_uri;
}</code></pre><p>listen 80 default_server 表示这是唯一监听80端口的server块<br>server_name _ 表示监听所有使用的域名</p><h2>重定向特定域名</h2><p>以下配置为重定向特定域名的请求，此方式适用于此ip下绑定多个域名的情况：</p><pre><code>server {
    listen           80;
    listen           [::]:80;
    server_name      your.domain;
    return           301 https://your.domain$request_uri;
}</code></pre><h2>443 server block</h2><p>设定我们的域名只接收443端口的访问：</p><pre><code>server {
    listen                443 ssl default_server;
    listen                [::]:443 ssl;
    server_name           foo.com;
}

server {
    listen                443 ssl;
    listen                [::]:443 ssl;
    server_name           bar.com;
}

...
</code></pre><p>只能设置一个域名为default_server。</p> </div>
</article>
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
<h2 class="post-title" itemprop="name headline"><a itemprop="url" href="https://niekun.net/index.php/archives/100.html">macOS使用brew安装的模块提示命令不存在的解决方法</a></h2>
<ul class="post-meta">
<li itemprop="author" itemscope itemtype="http://schema.org/Person">作者: <a itemprop="name" href="https://niekun.net/index.php/author/1/" rel="author">admin</a></li>
<li>时间: <time datetime="2019-02-21T20:51:00+08:00" itemprop="datePublished">2019-02-21</time></li>
<li>分类: <a href="https://niekun.net/index.php/category/macos/">macOS</a></li>
<li itemprop="interactionCount"><a itemprop="discussionUrl" href="https://niekun.net/index.php/archives/100.html#comments">评论</a></li>
</ul>
<div class="post-content" itemprop="articleBody">
<p>此问题主要是没有把 <code>/usr/local/sbin</code> 加入path，使用下面指令可以将其加入path：</p><pre><code>export PATH=$PATH:/usr/local/sbin
</code></pre><p>此指令只对当前终端窗口有效，关闭后失效。可将命令加入 <code>~/.bash_profile</code> 文件使设置永久有效,此文件一般不存在，可新建：</p><pre><code>vim ~/.bash_profile
</code></pre><p>加入代码：</p><pre><code>export PATH=$PATH:/usr/local/sbin
</code></pre><p>关闭文件后，重新载入配置：</p><pre><code>source ~/.bash_profile
</code></pre><p>重新运行命令测试是否已经可用。</p> </div>
</article>
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
<h2 class="post-title" itemprop="name headline"><a itemprop="url" href="https://niekun.net/index.php/archives/97.html">macOS/Linux/windows设置终端代理</a></h2>
<ul class="post-meta">
<li itemprop="author" itemscope itemtype="http://schema.org/Person">作者: <a itemprop="name" href="https://niekun.net/index.php/author/1/" rel="author">admin</a></li>
<li>时间: <time datetime="2019-02-21T20:33:00+08:00" itemprop="datePublished">2019-02-21</time></li>
<li>分类: <a href="https://niekun.net/index.php/category/Linux/">Linux</a>,<a href="https://niekun.net/index.php/category/Windows/">Windows</a>,<a href="https://niekun.net/index.php/category/macos/">macOS</a></li>
<li itemprop="interactionCount"><a itemprop="discussionUrl" href="https://niekun.net/index.php/archives/97.html#comments">评论</a></li>
</ul>
<div class="post-content" itemprop="articleBody">
<p>通过设置代理来让终端流量走代理端口(socks5适用于大部分的流量，有些程序不走http)，在终端输入：</p><pre><code>export all_proxy=socks5://127.0.0.1:1080
</code></pre><p>取消代理：</p><pre><code>unset all_proxy
</code></pre><p>也可以通过创建alias来设置一个“快捷命令”运行此命令：</p><pre><code>alias proxy='export all_proxy=socks5://127.0.0.1:1080'
alias unproxy='unset all_proxy'
</code></pre><p>然后开启代理就输入：</p><pre><code>proxy
</code></pre><p>取消代理输入：</p><pre><code>unproxy
</code></pre><p><strong>设置只对当前窗口有效，关闭后取消。</strong></p><p class="more"><a href="https://niekun.net/index.php/archives/97.html" title="macOS/Linux/windows设置终端代理">- 阅读剩余部分 -</a></p> </div>
</article>
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
<h2 class="post-title" itemprop="name headline"><a itemprop="url" href="https://niekun.net/index.php/archives/95.html">boost库里使用path的指针问题</a></h2>
<ul class="post-meta">
<li itemprop="author" itemscope itemtype="http://schema.org/Person">作者: <a itemprop="name" href="https://niekun.net/index.php/author/1/" rel="author">admin</a></li>
<li>时间: <time datetime="2019-02-21T14:03:00+08:00" itemprop="datePublished">2019-02-21</time></li>
<li>分类: <a href="https://niekun.net/index.php/category/cpp/">c++</a>,<a href="https://niekun.net/index.php/category/dev/">Program</a></li>
<li itemprop="interactionCount"><a itemprop="discussionUrl" href="https://niekun.net/index.php/archives/95.html#comments">评论</a></li>
</ul>
<div class="post-content" itemprop="articleBody">
<p>近期在开发过程中遇到一个奇怪的问题，当我复制一个文件夹到新目录时候总是失败，查看日志发现是传递地址出错了。<br>我是使用的是Boost的filesystem C++库处理文件，下面是代码片段，将path类型的地址放入一个指针，然后调用其他function：</p><pre><code>fs::path childDir = np;
childDir += &quot;/\\&quot; + dir_itr-&gt;path().filename().string();
const char* c_childDir = childDir.string().c_str();
</code></pre><p>我在本机实验是没有问题，但在他人电脑上提示directory error。<br>我将path里的地址先存放到一个string里然后在转换为char*，发现问题解决了。<br>我想可能的原因就是path不能直接使用其指针地址。下面是修改后的程序片段：</p><pre><code>string s_childDir = newDir;
s_childDir += &quot;/\\&quot; + dir_itr-&gt;path().filename().string();
const char* c_childDir = s_childDir.c_str();
</code></pre><p>以上就是关于boost库里使用path的指针问题的解决方法。</p> </div>
</article>
<ol class="page-navigator"><li class="prev"><a href="https://niekun.net/index.php/page/11/">&laquo; 前一页</a></li><li><a href="https://niekun.net/index.php/page/1/">1</a></li><li><span>...</span></li><li><a href="https://niekun.net/index.php/page/9/">9</a></li><li><a href="https://niekun.net/index.php/page/10/">10</a></li><li><a href="https://niekun.net/index.php/page/11/">11</a></li><li class="current"><a href="https://niekun.net/index.php/page/12/">12</a></li><li><a href="https://niekun.net/index.php/page/13/">13</a></li><li><a href="https://niekun.net/index.php/page/14/">14</a></li><li><a href="https://niekun.net/index.php/page/15/">15</a></li><li class="next"><a href="https://niekun.net/index.php/page/13/">后一页 &raquo;</a></li></ol></div>
<div class="col-mb-12 col-offset-1 col-3 kit-hidden-tb" id="secondary" role="complementary">
<section class="widget">
<h3 class="widget-title">最新文章</h3>
<ul class="widget-list">
<li><a href="https://niekun.net/index.php/archives/486.html">PhotoShop 将图片转换为无缝的 pattern 图形</a></li><li><a href="https://niekun.net/index.php/archives/484.html">wget 制作网站镜像</a></li><li><a href="https://niekun.net/index.php/archives/482.html">linux 修改 hostname</a></li><li><a href="https://niekun.net/index.php/archives/468.html">go 语言程序的编译</a></li><li><a href="https://niekun.net/index.php/archives/466.html">VPS 自动备份脚本</a></li><li><a href="https://niekun.net/index.php/archives/464.html">openssl 加密/解密文件</a></li><li><a href="https://niekun.net/index.php/archives/461.html">使用 crontab 设置 Linux 定时任务</a></li><li><a href="https://niekun.net/index.php/archives/460.html">gdrive 实现服务器文件的备份/同步</a></li><li><a href="https://niekun.net/index.php/archives/449.html">windows 安装最新版 openssl</a></li><li><a href="https://niekun.net/index.php/archives/444.html">解决 git push 每次都需要输入密码问题</a></li> </ul>
</section>
<section class="widget">
<h3 class="widget-title">分类</h3>
<ul class="widget-list"><li class="category-level-0 category-parent"><a href="https://niekun.net/index.php/category/Linux/">Linux</a><ul class="widget-list"><li class="category-level-1 category-child category-level-odd"><a href="https://niekun.net/index.php/category/ubuntu/">ubuntu</a></li></ul></li><li class="category-level-0 category-parent"><a href="https://niekun.net/index.php/category/web/">web</a></li><li class="category-level-0 category-parent"><a href="https://niekun.net/index.php/category/media/">media process</a><ul class="widget-list"><li class="category-level-1 category-child category-level-odd"><a href="https://niekun.net/index.php/category/ps/">photoshop</a></li><li class="category-level-1 category-child category-level-odd"><a href="https://niekun.net/index.php/category/fxp/">final cut pro</a></li><li class="category-level-1 category-child category-level-odd"><a href="https://niekun.net/index.php/category/lr/">lightroom</a></li></ul></li><li class="category-level-0 category-parent"><a href="https://niekun.net/index.php/category/Windows/">Windows</a></li><li class="category-level-0 category-parent"><a href="https://niekun.net/index.php/category/macos/">macOS</a></li><li class="category-level-0 category-parent"><a href="https://niekun.net/index.php/category/hardware/">hardware</a></li><li class="category-level-0 category-parent"><a href="https://niekun.net/index.php/category/essay/">essay</a></li><li class="category-level-0 category-parent"><a href="https://niekun.net/index.php/category/other/">other</a></li><li class="category-level-0 category-parent"><a href="https://niekun.net/index.php/category/dev/">Program</a><ul class="widget-list"><li class="category-level-1 category-child category-level-odd"><a href="https://niekun.net/index.php/category/cpp/">c++</a></li><li class="category-level-1 category-child category-level-odd"><a href="https://niekun.net/index.php/category/py/">python</a></li><li class="category-level-1 category-child category-level-odd"><a href="https://niekun.net/index.php/category/go/">go</a></li><li class="category-level-1 category-child category-level-odd"><a href="https://niekun.net/index.php/category/siemens/">siemens</a></li></ul></li><li class="category-level-0 category-parent"><a href="https://niekun.net/index.php/category/software/">software</a></li></ul> </section>
<section class="widget">
<h3 class="widget-title">归档</h3>
<ul class="widget-list">
<li><a href="https://niekun.net/index.php/2019/11/">November 2019</a></li><li><a href="https://niekun.net/index.php/2019/10/">October 2019</a></li><li><a href="https://niekun.net/index.php/2019/09/">September 2019</a></li><li><a href="https://niekun.net/index.php/2019/08/">August 2019</a></li><li><a href="https://niekun.net/index.php/2019/07/">July 2019</a></li><li><a href="https://niekun.net/index.php/2019/04/">April 2019</a></li><li><a href="https://niekun.net/index.php/2019/03/">March 2019</a></li><li><a href="https://niekun.net/index.php/2019/02/">February 2019</a></li> </ul>
</section>
</div>
</div>
</div>
</div>
<footer id="footer" role="contentinfo">
&copy; 2019 <a href="https://niekun.net/">Marco Nie</a>. All rights reserved.
</footer>
<script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"rayId":"5360d115d959ebbd","version":"2019.10.2","startTime":1573816625638}'></script>
</body>
</html>
